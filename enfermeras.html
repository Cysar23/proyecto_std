<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>STD ADMIN</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
    <meta name="description" content="This is an example dashboard created using build-in elements and components.">
    <meta name="msapplication-tap-highlight" content="no">

    <link href="./main.css" rel="stylesheet">
    <link href="./style.css" rel="stylesheet">


</head>

<body>

    <div class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
        <div class="app-header header-shadow" id="nav"></div>

        <div class="app-main">
            <div class="app-sidebar sidebar-shadow" id="sidebar"></div>
            <div class="app-main__outer">
                <div class="app-main__inner">
                    <div class="row">
                        <div class="col-md-6 col-xl-12">
                            <div class="card mb-3 widget-content bg-midnight-bloom">
                                <div class="widget-content-wrapper text-white">
                                    <div class="widget-content-left">
                                        <div class="widget-heading">Enfermeras</div>
                                        <div class="widget-subheading">Cantidad de enfermeras</div>
                                    </div>
                                    <div class="widget-content-right">
                                        <div class="widget-numbers text-white" id="cantidad_enfermeras"><span></span>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- FORMULARIO AGREGAR ENFERMERA -->
                    <button type="button" class="mb-2 mr-2 btn-transition btn btn-outline-info" data-toggle="modal"
                        data-target="#modal_enfermera" onclick="limpiar_form_enfermeras()">Agregar enfermera</button>

                    <!-- FIN FOMULARIO AGREGAR ENFERMERA -->


                    <div class="row">
                        <div class="col-md-12">
                            <div class="main-card mb-3 card">
                                <div class="card-header">
                                    Enfermeras
                                </div>
                                <div class="table-responsive">
                                    <table class="align-middle mb-0 table table-borderless table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th class="text-center">#</th>
                                                <th>Nombre</th>
                                                <th class="text-center">Cargo</th>
                                                <th class="text-center">Estado</th>
                                                <th class="text-center">Acción</th>
                                            </tr>
                                        </thead>

                                        <div class="text-center">
                                            <div class="spinner-border" role="status" id="preload_pacientes">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>

                                        <tbody id="mostrar_datos_enfermeras">


                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>


                </div>

            </div>

        </div>
    </div>
    

    <!-- CONEXION A FIREBASE -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->

    

    <!-- <script src="./modal.js"></script> -->
</body>

<!-- MODAL -->

<div class="modal fade" id="modal_enfermera" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
    style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ModalLabel">Agregar nueva enfermera</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="needs-validation" novalidate="" id="form_enfermeras">
                    <div class="form-row">
                        <div class="col-md-3 mb-3">
                            <label for="estado">Estado</label>
                            <select name="custom-select-dip" id="estado" class="form-control" required="">
                                <option [ngValue]="true">Activo</option>
                                <option [ngValue]="false">Inactivo</option>
                            </select>

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_correo">Correo</label>
                            <input type="email" class="form-control" id="email" placeholder="ejemplo@gmail.com"
                                required="">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_correo">Contrasena</label>
                            <input type="password" class="form-control" id="password" placeholder="********"
                                required="">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_correo">Repetir contrasena</label>
                            <input type="password" class="form-control" id="password_2" placeholder="********"
                                required="">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_nombre">Nombre</label>
                            <input type="text" class="form-control" id="id_nombre" placeholder="Nombre" required="">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_apellido">Apellido</label>
                            <input type="text" class="form-control" id="id_apellido" placeholder="Apellido" required="">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_nacionalidad">Nacionalidad</label>
                            <select name="custom-select-dip" id="id_nacionalidad" class="form-control" required="">
                                <option></option>
                                <option>Dominicano(a)</option>
                                <option>Otro</option>
                            </select>

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_estadocivil">Estado civil</label>
                            <select name="custom-select-dip" id="id_estadocivil" class="form-control" required="">
                                <option></option>
                                <option>Casado(a)</option>
                                <option>Union Libre</option>
                                <option>Soltero(a)</option>
                                <option>Viudo(a)</option>
                                <option>Divorciado(a)</option>
                            </select>

                        </div>

                        <div class="col-md-3 mb-3">
                            <label for="id_cedula">Cédula</label>
                            <input type="text" class="form-control" id="id_cedula" placeholder="000-0000000-0"
                                required="" maxlength="11">
                            <label id="id_cedula_validar"></label>
                        </div>

                        <div class="col-md-3 mb-3">
                            <label for="id_fecha_nacimiento">Fecha de nacimiento</label>
                            <input type="date" class="form-control" id="id_fecha_nacimiento" required=""
                                min="1900-01-01" >
                        </div>

                        <!-- Scrip para que la fecha sea mayor a 18 anios -->
                        <script>
                            // Obtén la fecha actual
                            var fechaActual = new Date();
                        
                            // Resta 18 años a la fecha actual
                            fechaActual.setFullYear(fechaActual.getFullYear() - 18);
                        
                            // Convierte la fecha a formato yyyy-mm-dd
                            var fechaLimite = fechaActual.toISOString().slice(0, 10);
                        
                            // Establece la fecha límite como el atributo 'max'
                            document.getElementById('id_fecha_nacimiento').max = fechaLimite;
                        </script>

                        <div class="col-md-3 mb-3">
                            <label for="id_seguro">Seguro Médico</label>
                            <select name="custom-select-dip" id="id_seguro" class="form-control" required="">
                                <option>No tiene</option>
                                <option>Senasa</option>
                                <option>Humano</option>
                            </select>

                        </div>

                        <div class="col-md-3 mb-3">
                            <label for="id_nss">NSS</label>
                            <input type="text" class="form-control" id="id_nss" placeholder="00000000" maxlength="8">

                        </div>

                        <div class="col-md-3 mb-3">
                            <label for="id_sexo">Sexo</label>
                            <select name="custom-select-dip" id="id_sexo" class="form-control" required="">
                                <option></option>
                                <option>Masculino</option>
                                <option>Femenino</option>
                            </select>

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_telefono">Teléfono</label>
                            <!-- <input type="tel" class="form-control" id="id_telefono" placeholder="Teléfono sin guión" pattern="[0-9]{3}[0-9]{3}[0-9]{4}" required="" maxlength="10"> -->
                            <input type="number" class="form-control" id="id_telefono" placeholder="Teléfono sin guión"
                                oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                required="" maxlength="10">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_direccion">Dirección</label>
                            <input type="text" class="form-control" id="id_direccion" placeholder="Dirección"
                                required="">

                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="id_ciudad">Ciudad</label>
                            <input type="text" class="form-control" id="id_ciudad" placeholder="Ciudad" required="">

                        </div>


                        <hr style="width:100%;text-align:left;margin-left:0">
                        <div class="col-md-12 mb-3 text-primary" style="text-align: center;">
                            <h5>DATOS DE LA ORGANIZACION</h5>
                            <hr>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label for="id_trabajo">Cargo</label>
                            <select name="custom-select-dip" id="id_trabajo" class="form-control">
                                <option></option>
                                <option>Auxiliar o asistente de enfermería</option>
                                <option>Enfermera autorizada</option>
                                <option>Enfermera registrada</option>
                                <option>Encargada del departamento</option>
                            </select>

                        </div>

                        <div class="col-md-6 mb-3">
                            <label for="id_fecha_ingreso">Fecha de ingreso</label>
                            <input type="date" class="form-control" id="id_fecha_ingreso" required="" min="1900-01-01">
                        </div>

                        <div class="col-md-6 mb-3">
                            <label for="id_turno">Turno</label>
                            <select name="custom-select-dip" id="id_turno" class="form-control">
                                <option></option>
                                <option>Completo (8h)</option>
                                <option>Mañana (4h)</option>
                                <option>Tarde (4h)</option>
                                <option>Noche</option>
                            </select>

                        </div>

                        <div class="col-md-6 mb-3">
                            <label for="id_salario">Salario Mensual</label>
                            <input type="number" class="form-control" id="id_salario" placeholder="Salario Mensual"
                                required="">

                        </div>


                        <div class="col-md-12 mb-3">
                            <label for="">Nota</label>
                            <textarea class="form-control" name="" id="id_nota" rows="2"></textarea>
                        </div>

                    </div>

                    <!-- <div id="div_eliminar" class="col-md-12 mb-3">
                        <button  class="btn btn-primary" type="submit" id="btn_agregar">Agregar</button>
                        <button  class="close btn btn-danger btn_eliminar-paciente btn-lg btn-block" type="button" id="btn_eliminar" >Eliminar</button>
                    </div> -->

                    <div class="row">

                        <div class="col-md-12">
                            <!-- <button type="button" id="PopoverCustomT-1" class="mb-2 mr-2 btn-pill btn btn-success btn-lg btn-block" data-toggle="modal" data-target="#agregarClienteModal" onclick="formNuevoCliente()">Agregar Cliente</button> -->
                            <button class="mb-2 mr-2 btn-pill btn btn-primary btn-lg btn-block" type="submit"
                                id="btn_agregar">Agregar</button>
                            <button
                                class="close mb-2 mr-2 btn-pill btn btn-danger btn_eliminar-paciente btn-lg btn-block"
                                type="button" id="btn_eliminar">Eliminar</button>
                        </div>
                    </div>

                </form>
            </div>

        </div>
    </div>
</div>

<!-- MODAL TABLA DETALLE -->


<div class="modal fade bd-example-modal-lg" id="modal_pacientes_detalle" tabindex="-1" role="dialog"
    aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ModalLabel">Detalles</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="main-card mb-3 card">
                            <div class="table-responsive">
                                <table class="align-middle mb-0 table table-borderless table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Nombre</th>
                                            <th class="text-center">Apellido</th>
                                            <th class="text-center">Teléfono</th>
                                            <th class="text-center">Cédula</th>
                                            <th class="text-center">Correo</th>
                                            <th class="text-center">Cargo</th>
                                            <th class="text-center">Turno</th>
                                            <th class="text-center">Reportes</th>

                                        </tr>
                                    </thead>


                                    <tbody id="tabla_detalle_enfermeras"></tbody>


                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12 mb-3 text-primary" style="text-align: center;">
                <h5>PACIENTES ASIGNANDOS</h5>
                <p id="cant_pacientes"></p>
                <hr>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="main-card mb-3 card">
                        <div class="table-responsive">
                            <table class="align-middle mb-0 table table-borderless table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th class="text-center">Nombre</th>
                                        <th class="text-center">Apellido</th>
                                        <th class="text-center">Edad</th>
                                        <th class="text-center">Parentesco</th>
                                        <th class="text-center">Sexo</th>
                                        <th class="text-center">Peso (lb)</th>
                                        <th class="text-center">Dirección</th>
                                        <th class="text-center">Ciudad</th>
                                        <th class="text-center">Teléfono</th>

                                    </tr>
                                </thead>


                                <tbody id="tabla_detalle_pacientes"></tbody>


                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- MODAL TABLA EXPEDIENTE -->
<div class="modal fade bd-example-modal-lg" id="modal_expediente" tabindex="-1" role="dialog"
    aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ModalLabel">Expediente</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_exp">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="main-card mb-3 card">
                            <div class="table-responsive">
                                <div class="row">
                                    <div class="col-md-6">
                                      <div class="card mb-4">
                                        <div class="card-body">
                                          <h3 class="card-title">Agregar Nota</h3>
                                          <div class="form-group">
                                            <!-- <input type="text" class="form-control" id="contenido-input" placeholder="Contenido de la nota"> -->
                                            <textarea class="form-control" id="contenido-input" cols="30" rows="2" placeholder="Contenido de la nota"></textarea>
                                          </div>
                                          <button class="btn btn-primary" onclick="agregarNota()">Agregar</button>
                                        </div>
                                      </div>
                                    </div>
                              
                                    <div class="col-md-6">
                                      <div class="card mb-4">
                                        <div class="card-body">
                                          <h3 class="card-title">Buscar Notas</h3>
                                          <div class="form-group">
                                            <input type="text" class="form-control" id="fecha-buscar" placeholder="Buscar por fecha (Ej: DD/MM/AAAA)" oninput="buscarNotas()">
                                          </div>
                                          <div class="form-group">
                                            <input type="text" class="form-control" id="contenido-buscar" placeholder="Buscar por contenido" oninput="buscarNotas()">
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  <style>
                                    .modal-scroll {
                                      max-height: 400px;
                                      overflow-y: auto;
                                    }
                                  </style>
                              
                                  <div class="row">
                                    <div class="col-md-12">
                                      <div class="card">
                                        <div class="card-body ">
                                          <h3 class="card-title">Notas</h3>
                                          <div class="modal-scroll" id="notas-container"></div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>

    <script src="./config.js"></script>
    <script type="text/javascript" src="./main_controler.js"></script>
    <script src="./assets/scripts/plantillas/nav_plantilla.js"></script>
    <script src="./assets/scripts/plantillas/sidebar.js"></script>
    <script type="text/javascript" src="./assets/scripts/enfermeras.js"></script>
    <script type="text/javascript" src="./assets/scripts/main.js"></script>
</html>